{"remainingRequest":"/home/winter/Projects/COVID-19-web/test/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/winter/Projects/COVID-19-web/test/src/components/Record.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/winter/Projects/COVID-19-web/test/src/components/Record.vue","mtime":1617177814884},{"path":"/home/winter/Projects/COVID-19-web/test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/winter/Projects/COVID-19-web/test/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/winter/Projects/COVID-19-web/test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/winter/Projects/COVID-19-web/test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IGNvbHVtbnMgPSBbCiAgewogICAgZGF0YUluZGV4OiAibmFtZSIsCiAgICBrZXk6ICJuYW1lIiwKICAgIHNsb3RzOiB7IHRpdGxlOiAiY3VzdG9tVGl0bGUiIH0sCiAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJuYW1lIiB9LAogIH0sCiAgewogICAgdGl0bGU6ICLml7bpl7QiLAogICAgZGF0YUluZGV4OiAidGltZSIsCiAgICBrZXk6ICJ0aW1lIiwKICB9LAogIHsKICAgIHRpdGxlOiAi5pWw6YePIiwKICAgIGRhdGFJbmRleDogIm51bSIsCiAgICBrZXk6ICJudW0iLAogIH0sCiAgewogICAgdGl0bGU6ICLnsbvlnosiLAogICAgZGF0YUluZGV4OiAiY2F0ZWdvcnkiLAogICAga2V5OiAiY2F0ZWdvcnkiLAogICAgc2NvcGVkU2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAiY2F0ZWdvcnkiIH0sCiAgfSwKICB7CiAgICB0aXRsZTogIuiviuaWrSIsCiAgICBrZXk6ICJkaWFnbm9zaXMiLAogICAgZGF0YUluZGV4OiAiZGlhZ25vc2lzIiwKICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogImRpYWdub3NpcyIgfSwKICB9LAogIHsKICAgIHRpdGxlOiAi5pON5L2cIiwKICAgIGtleTogImFjdGlvbiIsCiAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJhY3Rpb24iIH0sCiAgfSwKXTsKCmNvbnN0IGRhdGEgPSBbCiAgewogICAga2V5OiAiMSIsCiAgICBuYW1lOiAiSm9obiBCcm93biIsCiAgICB0aW1lOiAiMjAyMeW5tCAwM+aciCAzMOaXpSDmmJ/mnJ/kuowgMTU6NTU6NTggQ1NUIiwKICAgIG51bTogIjEiLAogICAgY2F0ZWdvcnk6ICJYLXJheSIsCiAgICBkaWFnbm9zaXM6ICJDT1ZJRC0xOSIsCiAgfSwKICB7CiAgICBrZXk6ICIyIiwKICAgIG5hbWU6ICJKaW0gR3JlZW4iLAogICAgdGltZTogIjIwMjHlubQgMDPmnIggMzDml6Ug5pif5pyf5LqMIDE1OjU1OjU4IENTVCIsCiAgICBjYXRlZ29yeTogIlgtcmF5IiwKICAgIG51bTogIjEiLAogICAgZGlhZ25vc2lzOiAiTm9ybWFsIiwKICB9LAogIHsKICAgIGtleTogIjMiLAogICAgbmFtZTogIkpvZSBCbGFjayIsCiAgICB0aW1lOiAiMjAyMeW5tCAwM+aciCAzMOaXpSDmmJ/mnJ/kuowgMTU6NTU6NTggQ1NUIiwKICAgIGNhdGVnb3J5OiAiQ1QiLAogICAgbnVtOiAiMSIsCiAgICBkaWFnbm9zaXM6ICJDQVAiLAogIH0sCl07CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhdGEsCiAgICAgIGNvbHVtbnMsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2hvd0RldGFpbChyZWNvcmQpIHsKICAgICAgY29uc29sZS5sb2cocmVjb3JkKTsKICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoewogICAgICAgIG5hbWU6ICJEZXRhaWwiLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgaWQ6IHJlY29yZC5rZXksCiAgICAgICAgfSwKICAgICAgfSk7CiAgICB9LAogICAgY29uZmlybURlbGV0ZShlKSB7CiAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAvLyDmj5DkuqTmnI3liqHlmagKCiAgICAgIC8vIOabtOaWsOacrOWcsAogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoZGF0YVtpXS5rZXkgPT0gZS5rZXkpIGRhdGEuc3BsaWNlKGksIDEpOwogICAgICB9CiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5Yig6Zmk5oiQ5YqfIik7CiAgICB9LAogICAgY2FuY2VsKGUpIHsKICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIkNsaWNrIG9uIE5vIik7CiAgICB9LAogICAgLy8g5bCG55uR5ZCs5pON5L2c5YaZ5ZyobWV0aG9kc+mHjOmdou+8jHJlbW92ZUV2ZW50TGlzdGVuZXLlj5bmtojnm5HlkKzlhoXlrrnlv4Xpobvot5/lvIDlkK/nm5HlkKzkv53mjIHkuIDoh7QKICAgIGJhY2tDaGFuZ2UoKSB7CiAgICAgIHRoaXMuJGVtaXQoImNoYW5nZSIsIGZhbHNlKTsKICAgIH0sCiAgfSwKICAvLyDmjILovb3lrozmiJDlkI7vvIzliKTmlq3mtY/op4jlmajmmK/lkKbmlK/mjIFwb3BzdGF0ZQogIG1vdW50ZWQoKSB7CiAgICBpZiAod2luZG93Lmhpc3RvcnkgJiYgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKSB7CiAgICAgIC8vIOW+gOWOhuWPsuiusOW9lemHjOmdoua3u+WKoOS4gOadoeaWsOeahOW9k+WJjemhtemdoueahHVybAogICAgICBoaXN0b3J5LnB1c2hTdGF0ZShudWxsLCBudWxsLCBkb2N1bWVudC5VUkwpOwogICAgICAvLyDnu5kgcG9wc3RhdGUg57uR5a6a5LiA5Liq5pa55rOVIOebkeWQrOmhtemdouWIt+aWsAogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicG9wc3RhdGUiLCB0aGlzLmJhY2tDaGFuZ2UsIGZhbHNlKTsKICAgIH0KICB9LAoKICAvLyDpobXpnaLplIDmr4Hml7bvvIzlj5bmtojnm5HlkKzjgILlkKbliJnlhbbku5Z2dWXot6/nlLHpobXpnaLkuZ/kvJrooqvnm5HlkKwKICBkZXN0cm95ZWQoKSB7CiAgICB3aW5kb3cucmVtb3ZlTGlzdGVuZXIoInBvcHN0YXRlIiwgdGhpcy5iYWNrQ2hhbmdlLCBmYWxzZSk7CiAgfSwKfTsK"},{"version":3,"sources":["Record.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Record.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <a-table :columns=\"columns\" :data-source=\"data\">\n    <a slot=\"name\" slot-scope=\"text\">{{ text }}</a>\n    <span slot=\"customTitle\"><a-icon type=\"smile-o\" /> 名称</span>\n    <span slot=\"category\" slot-scope=\"category\">\n      <a-tag\n        :key=\"category\"\n        :color=\"category === 'X-ray' ? 'CornflowerBlue' : 'BurlyWood '\"\n      >\n        {{ category.toUpperCase() }}\n      </a-tag>\n    </span>\n    <span slot=\"diagnosis\" slot-scope=\"diagnosis\">\n      <a-tag\n        :key=\"diagnosis\"\n        :color=\"\n          diagnosis === 'COVID-19'\n            ? 'red'\n            : diagnosis === 'CAP'\n            ? 'yellow'\n            : 'green'\n        \"\n      >\n        {{ diagnosis.toUpperCase() }}\n      </a-tag>\n    </span>\n    <span slot=\"action\" slot-scope=\"record\">\n      <a-divider type=\"vertical\" />\n      <a-popconfirm\n        title=\"Are you sure delete this task?\"\n        ok-text=\"Yes\"\n        cancel-text=\"No\"\n        @confirm=\"confirmDelete(record)\"\n        @cancel=\"cancel\"\n      >\n        <a class=\"ant-dropdown-lin\">删除</a>\n      </a-popconfirm>\n\n      <a-divider type=\"vertical\" />\n      <a class=\"ant-dropdown-link\"> 下载 </a>\n      <a-divider type=\"vertical\" />\n      <a class=\"ant-dropdown-link\" @click=\"showDetail(record)\"> 详情 </a>\n    </span>\n  </a-table>\n</template>\n<script>\nconst columns = [\n  {\n    dataIndex: \"name\",\n    key: \"name\",\n    slots: { title: \"customTitle\" },\n    scopedSlots: { customRender: \"name\" },\n  },\n  {\n    title: \"时间\",\n    dataIndex: \"time\",\n    key: \"time\",\n  },\n  {\n    title: \"数量\",\n    dataIndex: \"num\",\n    key: \"num\",\n  },\n  {\n    title: \"类型\",\n    dataIndex: \"category\",\n    key: \"category\",\n    scopedSlots: { customRender: \"category\" },\n  },\n  {\n    title: \"诊断\",\n    key: \"diagnosis\",\n    dataIndex: \"diagnosis\",\n    scopedSlots: { customRender: \"diagnosis\" },\n  },\n  {\n    title: \"操作\",\n    key: \"action\",\n    scopedSlots: { customRender: \"action\" },\n  },\n];\n\nconst data = [\n  {\n    key: \"1\",\n    name: \"John Brown\",\n    time: \"2021年 03月 30日 星期二 15:55:58 CST\",\n    num: \"1\",\n    category: \"X-ray\",\n    diagnosis: \"COVID-19\",\n  },\n  {\n    key: \"2\",\n    name: \"Jim Green\",\n    time: \"2021年 03月 30日 星期二 15:55:58 CST\",\n    category: \"X-ray\",\n    num: \"1\",\n    diagnosis: \"Normal\",\n  },\n  {\n    key: \"3\",\n    name: \"Joe Black\",\n    time: \"2021年 03月 30日 星期二 15:55:58 CST\",\n    category: \"CT\",\n    num: \"1\",\n    diagnosis: \"CAP\",\n  },\n];\n\nexport default {\n  data() {\n    return {\n      data,\n      columns,\n    };\n  },\n  methods: {\n    showDetail(record) {\n      console.log(record);\n      this.$router.replace({\n        name: \"Detail\",\n        params: {\n          id: record.key,\n        },\n      });\n    },\n    confirmDelete(e) {\n      console.log(e);\n      // 提交服务器\n\n      // 更新本地\n      for (let i = 0; i < data.length; i++) {\n        if (data[i].key == e.key) data.splice(i, 1);\n      }\n      this.$message.success(\"删除成功\");\n    },\n    cancel(e) {\n      console.log(e);\n      this.$message.error(\"Click on No\");\n    },\n    // 将监听操作写在methods里面，removeEventListener取消监听内容必须跟开启监听保持一致\n    backChange() {\n      this.$emit(\"change\", false);\n    },\n  },\n  // 挂载完成后，判断浏览器是否支持popstate\n  mounted() {\n    if (window.history && window.history.pushState) {\n      // 往历史记录里面添加一条新的当前页面的url\n      history.pushState(null, null, document.URL);\n      // 给 popstate 绑定一个方法 监听页面刷新\n      window.addEventListener(\"popstate\", this.backChange, false);\n    }\n  },\n\n  // 页面销毁时，取消监听。否则其他vue路由页面也会被监听\n  destroyed() {\n    window.removeListener(\"popstate\", this.backChange, false);\n  },\n};\n</script>\n"]}]}