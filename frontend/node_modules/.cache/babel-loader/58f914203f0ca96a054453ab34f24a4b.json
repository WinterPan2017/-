{"remainingRequest":"/home/winter/Projects/COVID-19-web/test/node_modules/babel-loader/lib/index.js!/home/winter/Projects/COVID-19-web/test/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/winter/Projects/COVID-19-web/test/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/winter/Projects/COVID-19-web/test/src/components/Record.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/winter/Projects/COVID-19-web/test/src/components/Record.vue","mtime":1617266115182},{"path":"/home/winter/Projects/COVID-19-web/test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/winter/Projects/COVID-19-web/test/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/winter/Projects/COVID-19-web/test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/winter/Projects/COVID-19-web/test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBjb2x1bW5zID0gW3sKICBkYXRhSW5kZXg6ICJuYW1lIiwKICBrZXk6ICJuYW1lIiwKICBzbG90czogewogICAgdGl0bGU6ICJjdXN0b21UaXRsZSIKICB9LAogIHNjb3BlZFNsb3RzOiB7CiAgICBjdXN0b21SZW5kZXI6ICJuYW1lIgogIH0KfSwgewogIHRpdGxlOiAi5pe26Ze0IiwKICBkYXRhSW5kZXg6ICJ0aW1lIiwKICBrZXk6ICJ0aW1lIgp9LCB7CiAgdGl0bGU6ICLmlbDph48iLAogIGRhdGFJbmRleDogIm51bSIsCiAga2V5OiAibnVtIgp9LCB7CiAgdGl0bGU6ICLnsbvlnosiLAogIGRhdGFJbmRleDogImNhdGVnb3J5IiwKICBrZXk6ICJjYXRlZ29yeSIsCiAgc2NvcGVkU2xvdHM6IHsKICAgIGN1c3RvbVJlbmRlcjogImNhdGVnb3J5IgogIH0KfSwgewogIHRpdGxlOiAi6K+K5patIiwKICBrZXk6ICJkaWFnbm9zaXMiLAogIGRhdGFJbmRleDogImRpYWdub3NpcyIsCiAgc2NvcGVkU2xvdHM6IHsKICAgIGN1c3RvbVJlbmRlcjogImRpYWdub3NpcyIKICB9Cn0sIHsKICB0aXRsZTogIuaTjeS9nCIsCiAga2V5OiAiYWN0aW9uIiwKICBzY29wZWRTbG90czogewogICAgY3VzdG9tUmVuZGVyOiAiYWN0aW9uIgogIH0KfV07CnZhciBfZGF0YSA9IFtdOwppbXBvcnQgcmVxd2VzdCBmcm9tICJyZXF3ZXN0IjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRhOiBfZGF0YSwKICAgICAgY29sdW1uczogY29sdW1ucwogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJlcXdlc3QoewogICAgICB1cmw6ICJodHRwOi8vMTI3LjAuMC4xOjUwMDAvZ2V0UmVjb3JkIiwKICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgZGF0YTogewogICAgICAgIHVzZXJpZDogIjEiCiAgICAgIH0sCiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoZSkgewogICAgICAgIGNvbnNvbGUubG9nKCJzdWNlc3MiLCBlKTsKICAgICAgICBfdGhpcy5kYXRhID0gZTsKICAgICAgfSwKICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKCkge30KICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgc2hvd0RldGFpbDogZnVuY3Rpb24gc2hvd0RldGFpbChyZWNvcmQpIHsKICAgICAgY29uc29sZS5sb2cocmVjb3JkKTsKICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoewogICAgICAgIG5hbWU6ICJEZXRhaWwiLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgZHJlY29yZDogcmVjb3JkLmtleQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY29uZmlybURlbGV0ZTogZnVuY3Rpb24gY29uZmlybURlbGV0ZShlKSB7CiAgICAgIGNvbnNvbGUubG9nKGUpOyAvLyDmj5DkuqTmnI3liqHlmagKICAgICAgLy8g5pu05paw5pys5ZywCgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLmRhdGFbaV0ua2V5ID09IGUua2V5KSB0aGlzLmRhdGEuc3BsaWNlKGksIDEpOwogICAgICB9CgogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuWIoOmZpOaIkOWKnyIpOwogICAgfSwKICAgIC8vIOWwhuebkeWQrOaTjeS9nOWGmeWcqG1ldGhvZHPph4zpnaLvvIxyZW1vdmVFdmVudExpc3RlbmVy5Y+W5raI55uR5ZCs5YaF5a655b+F6aG76Lef5byA5ZCv55uR5ZCs5L+d5oyB5LiA6Ie0CiAgICBiYWNrQ2hhbmdlOiBmdW5jdGlvbiBiYWNrQ2hhbmdlKCkgewogICAgICB0aGlzLiRlbWl0KCJjaGFuZ2UiLCBmYWxzZSk7CiAgICB9CiAgfSwKICAvLyDmjILovb3lrozmiJDlkI7vvIzliKTmlq3mtY/op4jlmajmmK/lkKbmlK/mjIFwb3BzdGF0ZQogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBpZiAod2luZG93Lmhpc3RvcnkgJiYgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKSB7CiAgICAgIC8vIOW+gOWOhuWPsuiusOW9lemHjOmdoua3u+WKoOS4gOadoeaWsOeahOW9k+WJjemhtemdoueahHVybAogICAgICBoaXN0b3J5LnB1c2hTdGF0ZShudWxsLCBudWxsLCBkb2N1bWVudC5VUkwpOyAvLyDnu5kgcG9wc3RhdGUg57uR5a6a5LiA5Liq5pa55rOVIOebkeWQrOmhtemdouWIt+aWsAoKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInBvcHN0YXRlIiwgdGhpcy5iYWNrQ2hhbmdlLCBmYWxzZSk7CiAgICB9CiAgfSwKICAvLyDpobXpnaLplIDmr4Hml7bvvIzlj5bmtojnm5HlkKzjgILlkKbliJnlhbbku5Z2dWXot6/nlLHpobXpnaLkuZ/kvJrooqvnm5HlkKwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsvLyB3aW5kb3cucmVtb3ZlTGlzdGVuZXIoInBvcHN0YXRlIiwgdGhpcy5iYWNrQ2hhbmdlLCBmYWxzZSk7CiAgfQp9Ow=="},{"version":3,"sources":["Record.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <a-table :columns=\"columns\" :data-source=\"data\">\n    <a slot=\"name\" slot-scope=\"text\">{{ text }}</a>\n    <span slot=\"customTitle\"><a-icon type=\"smile-o\" /> 名称</span>\n    <span slot=\"category\" slot-scope=\"category\">\n      <a-tag\n        :key=\"category\"\n        :color=\"category === 'X-ray' ? 'CornflowerBlue' : 'BurlyWood '\"\n      >\n        {{ category.toUpperCase() }}\n      </a-tag>\n    </span>\n    <span slot=\"diagnosis\" slot-scope=\"diagnosis\">\n      <a-tag\n        :key=\"diagnosis\"\n        :color=\"\n          diagnosis === 'COVID-19'\n            ? 'red'\n            : diagnosis === 'CAP'\n            ? 'yellow'\n            : 'green'\n        \"\n      >\n        {{ diagnosis.toUpperCase() }}\n      </a-tag>\n    </span>\n    <span slot=\"action\" slot-scope=\"record\">\n      <a-divider type=\"vertical\" />\n      <a-popconfirm\n        title=\"Are you sure delete this task?\"\n        ok-text=\"Yes\"\n        cancel-text=\"No\"\n        @confirm=\"confirmDelete(record)\"\n      >\n        <a class=\"ant-dropdown-lin\">删除</a>\n      </a-popconfirm>\n\n      <a-divider type=\"vertical\" />\n      <a class=\"ant-dropdown-link\"> 下载 </a>\n      <a-divider type=\"vertical\" />\n      <a class=\"ant-dropdown-link\" @click=\"showDetail(record)\"> 详情 </a>\n    </span>\n  </a-table>\n</template>\n<script>\nconst columns = [\n  {\n    dataIndex: \"name\",\n    key: \"name\",\n    slots: { title: \"customTitle\" },\n    scopedSlots: { customRender: \"name\" },\n  },\n  {\n    title: \"时间\",\n    dataIndex: \"time\",\n    key: \"time\",\n  },\n  {\n    title: \"数量\",\n    dataIndex: \"num\",\n    key: \"num\",\n  },\n  {\n    title: \"类型\",\n    dataIndex: \"category\",\n    key: \"category\",\n    scopedSlots: { customRender: \"category\" },\n  },\n  {\n    title: \"诊断\",\n    key: \"diagnosis\",\n    dataIndex: \"diagnosis\",\n    scopedSlots: { customRender: \"diagnosis\" },\n  },\n  {\n    title: \"操作\",\n    key: \"action\",\n    scopedSlots: { customRender: \"action\" },\n  },\n];\n\nconst data = [];\nimport reqwest from \"reqwest\";\nexport default {\n  data() {\n    return {\n      data,\n      columns,\n    };\n  },\n  created() {\n    reqwest({\n      url: \"http://127.0.0.1:5000/getRecord\",\n      method: \"get\",\n      data: { userid: \"1\" },\n      success: (e) => {\n        console.log(\"sucess\", e);\n        this.data = e;\n      },\n      error: () => {},\n    });\n  },\n  methods: {\n    showDetail(record) {\n      console.log(record);\n      this.$router.replace({\n        name: \"Detail\",\n        params: {\n          drecord: record.key,\n        },\n      });\n    },\n    confirmDelete(e) {\n      console.log(e);\n      // 提交服务器\n\n      // 更新本地\n      for (let i = 0; i < this.data.length; i++) {\n        if (this.data[i].key == e.key) this.data.splice(i, 1);\n      }\n      this.$message.success(\"删除成功\");\n    },\n    // 将监听操作写在methods里面，removeEventListener取消监听内容必须跟开启监听保持一致\n    backChange() {\n      this.$emit(\"change\", false);\n    },\n  },\n  // 挂载完成后，判断浏览器是否支持popstate\n  mounted() {\n    if (window.history && window.history.pushState) {\n      // 往历史记录里面添加一条新的当前页面的url\n      history.pushState(null, null, document.URL);\n      // 给 popstate 绑定一个方法 监听页面刷新\n      window.addEventListener(\"popstate\", this.backChange, false);\n    }\n  },\n\n  // 页面销毁时，取消监听。否则其他vue路由页面也会被监听\n  destroyed() {\n    // window.removeListener(\"popstate\", this.backChange, false);\n  },\n};\n</script>\n"],"sourceRoot":"src/components"}]}